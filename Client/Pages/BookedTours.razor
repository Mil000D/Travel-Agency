@page "/booked-tours"
@inject HttpClient HttpClient
@inject NavigationManager NavigationManager

<MudContainer MaxWidth="MaxWidth.Large">
    <MudText Typo="Typo.h4" Class="mb-4">Booked Tours</MudText>

    <MudElement Class="row">
        @foreach (var tour in bookedTours)
        {
            <MudElement Class="zoom-card col-md-6 mb-4">
                <MudCard Elevation="20">
                    <MudCardMedia Image="@tour.ImageUrl" Height="200" />
                    <MudCardContent>
                        <MudText Typo="Typo.h6">@tour.Title</MudText>
                            <MudText Typo="Typo.body2">@tour.StartDate.ToString("dd MMM yyyy") - @tour.EndDate.ToString("dd MMM yyyy")</MudText>
                            <MudText Typo="Typo.body2">@tour.Price.ToString("C")</MudText>
                        </MudCardContent>
                    <MudCardActions>
                        <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(() => ViewDetails(tour.Id))">View Details</MudButton>
                    </MudCardActions>
                </MudCard>
            </MudElement>
        }
        <MudElement Class="mt-4">
            <MudContainer Class="d-flex justify-content-center mb-4">
                <MudPagination Count="4" />
            </MudContainer>
        </MudElement>
    </MudElement>
</MudContainer>

@code {
    private List<GetBookedTourDTO> bookedTours = new List<GetBookedTourDTO>
    {
        new GetBookedTourDTO
        {
            Id = 1,
            Title = "Lower Antelope Canyon",
            ImageUrl = "https://media-cdn.tripadvisor.com/media/attractions-splice-spp-720x480/07/7f/67/da.jpg",
            StartDate = new DateTime(2023, 6, 25),
            EndDate = new DateTime(2023, 6, 28),
            Price = 2769.30f
        },
        new GetBookedTourDTO
        {
            Id = 2,
            Title = "Niagara Falls",
            ImageUrl = "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0d/46/b6/9c/20161010-133807-largejpg.jpg",
            StartDate = new DateTime(2023, 8, 20),
            EndDate = new DateTime(2023, 8, 27),
            Price = 4162.00f
        },
        new GetBookedTourDTO
        {
            Id = 3,
            Title = "Grand Canyon",
            ImageUrl = "https://media-cdn.tripadvisor.com/media/attractions-splice-spp-720x480/07/bb/db/35.jpg",
            StartDate = new DateTime(2023, 9, 15),
            EndDate = new DateTime(2023, 9, 20),
            Price = 3500.00f
        },
        new GetBookedTourDTO
        {
            Id = 4,
            Title = "Horseshoe Bend",
            ImageUrl = "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/17/56/c1/06/horseshoe-bend-az.jpg",
            StartDate = new DateTime(2023, 7, 10),
            EndDate = new DateTime(2023, 7, 17),
            Price = 2999.99f
        }
    };

    private void ViewDetails(int tourId)
    {
        NavigationManager.NavigateTo($"/booked-tour-details");
    }
}
